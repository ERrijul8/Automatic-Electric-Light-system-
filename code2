def control_bulb():
    try:
        while True:
            light_level = read_light_sensor()
            print(f"Light level: {light_level}")

            if light_level < LIGHT_THRESHOLD:
                GPIO.output(RELAY_PIN, GPIO.LOW)  # Turn bulb on (LOW activates relay)
                print("Bulb ON")
            else:
                GPIO.output(RELAY_PIN, GPIO.HIGH)  # Turn bulb off
                print("Bulb OFF")

            time.sleep(1)  # Check every second

    except KeyboardInterrupt:
        print("Program terminated")
    finally:
